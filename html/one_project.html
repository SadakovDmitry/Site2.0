<!DOCTYPE html>
<html lang="ru">
  <head>
    @@include('partials/head.html')
    <link rel="stylesheet" href="../css/menu.css" />
    <link rel="stylesheet" href="../css/one_project.css" />
    <link rel="stylesheet" href="../css/fonts.css" />
  </head>
  <body>
    @@include('partials/menu.html')
    <main>
      <div class="image">
        <img src="../images/first-project.png" alt="Example Image" />
      </div>
      <div class="text">
        <p>заголовок проекта</p>
      </div>
    </main>
    <div class="info">
      <div class="info-column" id="year">
          <h4>ГОД</h4>
          <p>2023</p>
      </div>
      <div class="info-column" id="customer">
          <h4>КЛИЕНТ</h4>
          <p>Компания XYZ</p>
      </div>
      <div class="info-column" id="type">
          <h4>ВИД ПРОЕКТА</h4>
          <p>Веб-разработка</p>
      </div>
    </div>
    <section class="second">
      <div class="text">
        <p class="left"></p>
        <div class="right">
          <p class="up">
            НЕ ПЫТАЕМСЯ ГНАТЬСЯ ЗА ТРЕНДАМИ, КРЕАТИВИМ И СОЗДАЁМ СВОИ. ПОМИМО ПЕРЕЧИСЛЕННЫХ ПОДВИГОВ ЗА ПЛЕЧАМИ НАШИХ ГЕРОЕВ ГРАНТ МИНКУЛЬТА, ЛАУРЕАТСТВА НА ПИТЧИНГАХ И ФЕСТИВАЛЯХ, РАЗРАБОТКА И ИСПОЛНЕНИЕ БРЕНДМЕНЕДЖМЕНТА В АУДИОВИЗУАЛЬНЫХ ФОРМАТАХ И, КОНЕЧНО, РЕЙТИНГОВЫЕ ВИДЕО В СЕТИ.
          </p>
          <p class="down">
            В НАШЕЙ КОМАНДЕ ЕСТЬ И ХУДОЖНИКИ, КОТОРЫЕ СОЗДАЮТ ГРАФИЧЕСКОЕ ОБРАМЛЕНИЕ ДЛЯ ВИДЕО, А ТАКЖЕ РИСУЮТ ЛОГОТИПЫ И ДЕЛАЮТ КРЕАТИВНЫЕ LOOK-BOOKS.
          </p>
        </div>
      </div>
    </section>

    <div class="border">
      <div class="horizontal"></div>
      <div class="part1"></div>
      <div class="part2"></div>
      <div class="dot"></div>
    </div>

    <section class="describe_section">
      <h3 class="text">
        НЕ ПУГАЙТЕСЬ НАШИХ ЦЕН! ОНИ НИЗКИЕ ТОЛЬКО ПО ТОЙ ПРИЧИНЕ, ЧТО НАША
        ДРУЖНАЯ КОМАНДА НЕ ОБРЕМЕНЕНА ОГРОМНЫМ АДМИНИСТРАТИВНЫМ ШТАТОМ, ПОЭТОМУ
        РАБОТАЯ С НАМИ, ВАМ НЕ ПРИДЁТСЯ ОПЛАЧИВАТЬ ТРУД ДЕСЯТКА СЕКРЕТАРЕЙ, ПЯТИ
        МЕНЕДЖЕРОВ И АРЕНДУ ОФИСА В МОСКВЕ-СИТИ.
      </h3>
    </section>

    <div class="media-block">
        <!-- Видео -->
        <div class="video-container">
            <video class="full-width-video" src="../showreel.mp4" muted></video>
            <button class="play-button" id="openModalBtn">&#9658;</button>
        </div>

        <div class="photo-row">
            <img src="../images/first_project_media_1.png" alt="Photo 1" class="half-width-photo">
            <img src="../images/first_project_media_2.png" alt="Photo 2" class="half-width-photo">
        </div>

        <div>
            <img src="../images/first_project_media_3.png" alt="Photo 3" class="full-width-photo">
        </div>
    </div>

    <!-- Модальное окно для видео -->
    <div id="videoModal" class="modal">
        <div id="modalContent" class="modal-content">
          <button id="closeModalBtn" class="close">&times;</button>
          <video id="modalVideo" controls autoplay>
              <source src="../showreel.mp4" type="video/mp4">
          </video>
        </div>
    </div>

    <script>
        const openModalBtn = document.getElementById('openModalBtn');
      const closeModalBtn = document.getElementById('closeModalBtn');
      const videoModal = document.getElementById('videoModal');
      const modalVideo = document.getElementById('modalVideo');

      openModalBtn.addEventListener('click', function () {
          videoModal.style.display = 'flex';
          modalVideo.play();
      });

      closeModalBtn.addEventListener('click', function () {
          videoModal.style.display = 'none';
          modalVideo.pause();
          modalVideo.currentTime = 0;
      });

      videoModal.addEventListener('click', function (e) {
          if (e.target === videoModal) {
              videoModal.style.display = 'none';
              modalVideo.pause();
              modalVideo.currentTime = 0;
          }
      });

        document.addEventListener('DOMContentLoaded', function () {
          const modalVideo = document.getElementById('modalVideo');
          if (modalVideo) {
            modalVideo.addEventListener('loadedmetadata', adjustModalSize);
          } else {
            console.error("Элемент с ID 'modalVideo' не найден.");
          }
        });

        window.addEventListener('resize', adjustModalSize);

        function adjustModalSize() {
            const modalContent = document.getElementById('modalContent');
            if (!modalVideo || !modalVideo.videoWidth || !modalVideo.videoHeight) {
                console.warn('Видео еще не загрузилось.');
                return;
            }

            const videoWidth = modalVideo.videoWidth;
            const videoHeight = modalVideo.videoHeight;

            const videoAspectRatio = videoWidth / videoHeight;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            if (windowWidth / windowHeight > videoAspectRatio) {
                modalContent.style.width = `${windowHeight * videoAspectRatio}px`;
                modalContent.style.height = `${windowHeight}px`;
            } else {
                modalContent.style.width = `${windowWidth}px`;
                modalContent.style.height = `${windowWidth / videoAspectRatio}px`;
            }
        }

        if (modalVideo.readyState >= 1) {
            adjustModalSize();
        } else {
            modalVideo.addEventListener('loadedmetadata', adjustModalSize);
        }
    </script>

    <section class="describe_section_2">
      <h3 class="text">
        НЕ ПУГАЙТЕСЬ НАШИХ ЦЕН! ОНИ НИЗКИЕ ТОЛЬКО ПО ТОЙ ПРИЧИНЕ, ЧТО НАША
        ДРУЖНАЯ КОМАНДА НЕ ОБРЕМЕНЕНА ОГРОМНЫМ АДМИНИСТРАТИВНЫМ ШТАТОМ, ПОЭТОМУ
        РАБОТАЯ С НАМИ, ВАМ НЕ ПРИДЁТСЯ ОПЛАЧИВАТЬ ТРУД ДЕСЯТКА СЕКРЕТАРЕЙ, ПЯТИ
        МЕНЕДЖЕРОВ И АРЕНДУ ОФИСА В МОСКВЕ-СИТИ.
      </h3>
    </section>

    <div class="project_switch">
        <div class="switch_side prev" onclick="switchProject('prev')">
            <img id="prevProjectImage" src="prev_project.jpg" alt="Предыдущий проект">
            <div class="overlay">
                <span>Предыдущий проект</span>
            </div>
        </div>
        <div class="switch_side next" onclick="switchProject('next')">
            <img id="nextProjectImage" src="next_project.jpg" alt="Следующий проект">
            <div class="overlay">
                <span>Следующий проект</span>
            </div>
        </div>
    </div>
    <script src="../projects_script.js"></script>
  </body>
  @@include('partials/footer.html')
</html>
