<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href = "styles.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poiret+One&display=swap');
  </style>
  <title>+7 GROUP</title>
</head>
<body>
  <main>
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.42/build/spline-viewer.js"></script>
    <spline-viewer
      id="splineViewer2"
      loading-anim-type="spinner-small-dark">
    </spline-viewer>
    <div class="text">
      <p>коммуникационная группа полного цикла</p>
      <h1>group</h1>
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Функция для обновления URL и добавления тега <img>
      function updateSplineURLs() {
        const viewer2 = document.getElementById('splineViewer2');

        if (viewer2) {
          if (window.innerWidth <= 800) {
            viewer2.setAttribute('url', 'https://prod.spline.design/IAquUKKdEnuTiWKY/scene.splinecode');

            if (!viewer2.querySelector('img')) {
              const img = document.createElement('img');
              img.src = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAASCAYAAAA6yNxSAAAJcklEQVR4AQCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8AgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/wCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8AgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/wCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8AgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/wCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8AgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/wCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8AgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/wCBAH7/ACMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/AIEAfv8AIx8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8BgQB+/wAjHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/yMfHf8jHx3/Ix8d/2VxE67vXV9DAAAAAElFTkSuQmCC'; // Замените на ваше изображение
              img.alt = 'Fallback image';
              img.style = 'width: 100%; height: 600px;';
              viewer2.appendChild(img);
            }
          } else {
            viewer2.setAttribute('url', 'https://prod.spline.design/8oVjzrAYTJsT5xlM/scene.splinecode');

            // Убираем тег <img>, если размер больше 375px
            const img = viewer2.querySelector('img');
            if (img) {
              viewer2.removeChild(img);
            }
          }
        }
      }

      window.addEventListener('resize', updateSplineURLs);
      updateSplineURLs();
    });
  </script>

    <section class="first">
        <video id="myVideo" autoplay muted loop playsinline>
            <source src="Showreel_CUT.mp4" type="video/mp4">
        </video>
        <button id="openModalBtn" class="play"></button>

        <div id="videoModal" class="modal">
          <div id="modalContent" class="modal-content">
            <button id="closeModalBtn" class="close">&times;</button>
            <video id="modalVideo" controls autoplay>
                <source src="showreel.mp4" type="video/mp4">
            </video>
          </div>
        </div>
    </section>
    <script>
      const openModalBtn = document.getElementById('openModalBtn');
      const closeModalBtn = document.getElementById('closeModalBtn');
      const videoModal = document.getElementById('videoModal');
      const modalVideo = document.getElementById('modalVideo');

      openModalBtn.addEventListener('click', function () {
          videoModal.style.display = 'flex';
          modalVideo.play();
      });

      closeModalBtn.addEventListener('click', function () {
          videoModal.style.display = 'none';
          modalVideo.pause();
          modalVideo.currentTime = 0;
      });

      videoModal.addEventListener('click', function (e) {
          if (e.target === videoModal) {
              videoModal.style.display = 'none';
              modalVideo.pause();
              modalVideo.currentTime = 0;
          }
      });

        document.addEventListener('DOMContentLoaded', function () {
          const modalVideo = document.getElementById('modalVideo');
          if (modalVideo) {
            modalVideo.addEventListener('loadedmetadata', adjustModalSize);
          } else {
            console.error("Элемент с ID 'modalVideo' не найден.");
          }
        });

        window.addEventListener('resize', adjustModalSize);

        function adjustModalSize() {
            const modalContent = document.getElementById('modalContent');
            if (!modalVideo || !modalVideo.videoWidth || !modalVideo.videoHeight) {
                console.warn('Видео еще не загрузилось.');
                return;
            }

            const videoWidth = modalVideo.videoWidth;
            const videoHeight = modalVideo.videoHeight;

            const videoAspectRatio = videoWidth / videoHeight;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            if (windowWidth / windowHeight > videoAspectRatio) {
                modalContent.style.width = `${windowHeight * videoAspectRatio}px`;
                modalContent.style.height = `${windowHeight}px`;
            } else {
                modalContent.style.width = `${windowWidth}px`;
                modalContent.style.height = `${windowWidth / videoAspectRatio}px`;
            }
        }

        if (modalVideo.readyState >= 1) {
            adjustModalSize();
        } else {
            modalVideo.addEventListener('loadedmetadata', adjustModalSize);
        }
    </script>
    <section class="second">
        <a class="button pr" href="second.html">
            <div class="vertical"></div>
            <div class="horizontal"></div>
            <div class="dot"></div>
            <h3>pr</h3>
            <p class="number">01</p>
            <p class="describe">10 проектов</p>
        </a>
        <div class="button prod">
            <div class="vertical"></div>
            <div class="horizontal"></div>
            <div class="dot"></div>
            <h3>production</h3>
            <p class="number">02</p>
            <p class="describe">10 проектов</p>
        </div>
        <div class="button web">
            <div class="vertical"></div>
            <div class="horizontal"></div>
            <div class="dot"></div>
            <h3>web development</h3>
            <p class="number">03</p>
            <p class="describe">10 проектов</p>
        </div>
        <div class="button smm">
            <div class="vertical"></div>
            <div class="horizontal"></div>
            <div class="dot"></div>
            <h3>smm</h3>
             <p class="number">04</p>
             <p class="describe">10 проектов</p>
        </div>
    </section>
    <section class="third">
        <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.42/build/spline-viewer.js"></script>
        <button>
            <a href="">
            <spline-viewer hint loading-anim-type="spinner-small-dark" url="https://prod.spline.design/2l7dwlYlyKLoGaIk/scene.splinecode">
            </spline-viewer>
            <div class="sign">
                <p>записаться</p>
                <img src="images/Frame 40.svg" alt="">
            </div>
            </a>
        </button>
    </section>
    <section class="fourth" data-proportion-h="1">
        <picture>
            <source srcset="images_1440/bg.png" media = "(max-width: 1551px)">
            <source srcset="images_1024/bg.png" media = "(max-width: 1124px)">
            <source srcset="images_375/bg.png" media = "(max-width:800px)">
            <source srcset="images/bg.png" media = "(min-width:1920px)">
            <img src="images/bg.png" alt="">
        </picture>
        <div class="blik">
            <img src="images/blik.svg" alt="">
        </div>
        <div class="image-slider">
          <button id="prevBtn" class="arrow"></button>
          <div class="points">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
          <button id="nextBtn" class="arrow"></button>
        </div>
        <div class="images">
            <img id="sliderImage" src="images/Ellipse 6.svg" alt="Slide 1">
        </div>
    </section>
    <script>
      const images = [
          "images/Ellipse 6.svg",
          "images/image1.png",
          "images/image3.png",
          "images/image4.png",
          "images/image5.png",
          "images/image6.png",
          "images/image7.png",
      ];

      let currentIndex = 0;

      const sliderImage = document.getElementById('sliderImage');
      const dots = document.querySelectorAll('.dot');

      function updateActiveDot() {
          console.log("now index: ", currentIndex);
          dots.forEach((dot, index) => {
              if ((index - 4) === currentIndex) {
                  dot.classList.add('active');
              } else {
                  dot.classList.remove('active');
              }
          });
      }

      document.getElementById('prevBtn').addEventListener('click', () => {
          currentIndex = (currentIndex - 1 + images.length) % images.length;
          sliderImage.src = images[currentIndex];
          updateActiveDot();
      });

      document.getElementById('nextBtn').addEventListener('click', () => {
          currentIndex = (currentIndex + 1) % images.length;
          sliderImage.src = images[currentIndex];
          updateActiveDot();
      });

      updateActiveDot();
    </script>
    <footer>
        <div class="line"></div>
        <div class="icon">
            <img src="images/logo.svg" alt="">
        </div>
        <nav>
            <ul class="information">
                <li>plus7production@gmail.com</li>
                <li>+7 916 463 12 32</li>
                <li>Самокатная ул., 4, стр. 1, Москва, Креативный кластер Кристалл, этаж 1</li>
            </ul>
            <ul class="menu">
                <li> <a href="#" class = "left">О нас</a></li>
                <li><a href="#" class = "left">Услуги</a></li>
                <li><a href="#" class = "right">Проекты</a></li>
                <li><a href="#" class = "right">Контакты</a></li>
            </ul>
            <ul class="media">
                <li> <a href="#">VK</a></li>
                <li><a href="#">Teleqram</a></li>
                <li><a href="#">YouTube</a></li>
            </ul>
        </nav>
        <p>© Все права защищены, 2024</p>
    </footer>
</body>
</html>
