<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="../css/fonts.css" />
<link rel="stylesheet" href="../css/footer.css" />
<title>+7 GROUP</title>

    <link rel="stylesheet" href="../css/menu.css" />
    <link rel="stylesheet" href="../css/projects.css" />
    <link rel="stylesheet" href="../css/fonts.css" />
  </head>
  <body>
    <section class="logo-section">
  <a class="icon1" href="index.html">
    <img src="../images/logo.png" alt="Logo" />
  </a>

  <nav id="menu">
    <ul>
      <li><a href="about_us.html">О нас</a></li>
      <li><a href="index.html#services">Услуги</a></li>
      <!-- <li><a href="projects.html">Проекты</a></li> -->
      <li><a href="#footer">Контакты</a></li>
    </ul>
    <svg
      class="menu_cross"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      xmlns="http://www.w3.org/2000/svg"
    >
      <line x1="5" y1="5" x2="20" y2="20" stroke="white" stroke-width="1" />
      <line x1="5" y1="20" x2="20" y2="5" stroke="white" stroke-width="1" />
    </svg>
    <div class="title">
      <span>Меню</span>
      <svg
        class="menu_dot"
        width="4"
        height="4"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="2" cy="2" r="2" fill="white" />
      </svg>
    </div>
  </nav>
</section>

<script>
  let menuElem = document.getElementById("menu");
  let titleElem = menuElem.querySelector(".title");
  let circleElem = menuElem.querySelector(".menu_cross");

  titleElem.onclick = function () {
    menuElem.classList.toggle("open");
  };

  circleElem.onclick = function () {
    menuElem.classList.remove("open");
  };
</script>

    <main>
      <div class="image">
        <img src="../images/projects.png" alt="Example Image" />
      </div>
      <div class="text">
        <p>проекты</p>
      </div>
    </main>
    <section class="second">
      <div class="text">
        <p class="left"></p>
        <div class="right">
          <p class="up">
            НЕ ПЫТАЕМСЯ ГНАТЬСЯ ЗА ТРЕНДАМИ, КРЕАТИВИМ И СОЗДАЁМ СВОИ. ПОМИМО ПЕРЕЧИСЛЕННЫХ ПОДВИГОВ ЗА ПЛЕЧАМИ НАШИХ ГЕРОЕВ ГРАНТ МИНКУЛЬТА, ЛАУРЕАТСТВА НА ПИТЧИНГАХ И ФЕСТИВАЛЯХ, РАЗРАБОТКА И ИСПОЛНЕНИЕ БРЕНДМЕНЕДЖМЕНТА В АУДИОВИЗУАЛЬНЫХ ФОРМАТАХ И, КОНЕЧНО, РЕЙТИНГОВЫЕВИДЕО В СЕТИ.
          </p>
          <p class="down">
            В НАШЕЙ КОМАНДЕ ЕСТЬ И ХУДОЖНИКИ, КОТОРЫЕ СОЗДАЮТ ГРАФИЧЕСКОЕ ОБРАМЛЕНИЕ ДЛЯ ВИДЕО,А ТАКЖЕ РИСУЮТ ЛОГОТИПЫ И ДЕЛАЮТ КРЕАТИВНЫЕ LOOK-BOOKS.
          </p>
        </div>
      </div>
    </section>
    <section class="projects-menu">
    <div class="filters">
        <button onclick="filterProjects('all')">ВСЕ</button>
        <button onclick="filterProjects('smm')">SMM</button>
        <button onclick="filterProjects('web')">WEB</button>
        <button onclick="filterProjects('pr')">PR</button>
        <button onclick="filterProjects('prod')">PRODUCTION</button>
    </div>
    <div class="projects" id="projectsContainer">
        <a href="one_project.html?section=project_1" class="project" data-category="smm">
            <img src="../images/first_project_media_2.png" alt="Проект smm">
            <div class="info">
                <span class="year">2023</span>
                <span class="category">SMM</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_2" class="project" data-category="web">
            <img src="../images/first_project_media_2.png" alt="Проект web">
            <div class="info">
                <span class="year">2022</span>
                <span class="category">WEB</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_3" class="project" data-category="pr">
            <img src="../images/first_project_media_2.png" alt="Проект pr">
            <div class="info">
                <span class="year">2021</span>
                <span class="category">PR</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="prod">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PROD</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="prod">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PROD</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="prod">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PROD</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="prod">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PROD</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="prod">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PROD</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="web">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">WEB</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="web">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">WEB</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="smm">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">SMM</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
        <a href="one_project.html?section=project_1" class="project" data-category="pr">
            <img src="../images/first_project_media_2.png" alt="Проект production">
            <div class="info">
                <span class="year">2020</span>
                <span class="category">PR</span>
                <span class="title">Название проекта</span>
            </div>
            <div class="vertical"></div>
            <div class="horizontal"></div>
        </a>
    </div>
    <button class= "loadMore" id="loadMoreButton" onclick="loadMoreProjects()">
        <div style="display: flex; flex-direction: column; align-items: center;">
            <div class="plus">
                <div style="position: absolute; top: 50%; left: 0; right: 0; height: 2px; background-color: rgba(255, 255, 255, 0.3); transform: translateY(-50%);"></div>
                <div style="position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; background-color: rgba(255, 255, 255, 0.3); transform: translateX(-50%);"></div>
            </div>
            <span>Больше проектов</span>
        </div>
    </button>
    </section>

    <script>
        let visibleProjects = window.innerWidth <= 1440 ? 6 : 9; // Количество видимых проектов за раз, меняется в зависимости от ширины экрана

        function initializeProjects() {
            const projects = document.querySelectorAll('.project');
            let visibleCount = 0;

            projects.forEach(project => {
                if (project.classList.contains('filtered-out')) {
                    project.classList.add('hidden');
                } else if (visibleCount < visibleProjects) {
                    project.classList.remove('hidden');
                    visibleCount++;
                } else {
                    project.classList.add('hidden');
                }
            });
            updateLoadMoreButton();
        }

        function loadMoreProjects() {
            const projects = document.querySelectorAll('.project:not(.filtered-out)');
            let currentlyVisible = document.querySelectorAll('.project:not(.filtered-out):not(.hidden)').length;

            let count = 0;
            const increment = window.innerWidth <= 1440 ? 6 : 9;

            projects.forEach(project => {
                if (count < increment && currentlyVisible < visibleProjects + increment) {
                    if (project.classList.contains('hidden')) {
                        project.classList.remove('hidden');
                        count++;
                    }
                    currentlyVisible++;
                }
            });

            visibleProjects += increment;
            updateLoadMoreButton();
        }

        function filterProjects(category) {
            if (category) {

            const projects = document.querySelectorAll('.project');

            projects.forEach(project => {
                if (category === 'all' || project.dataset.category === category) {
                    project.classList.remove('filtered-out');
                } else {
                    project.classList.add('filtered-out');
                    project.classList.add('hidden'); // Скрываем проекты, которые не соответствуют фильтру
                }
            });

            visibleProjects = window.innerWidth <= 1440 ? 6 : 9; // Сбрасываем лимит видимых проектов при смене фильтра
            initializeProjects();
            }
        }

        function updateLoadMoreButton() {
            const projects = document.querySelectorAll('.project:not(.filtered-out)');
            const visible = document.querySelectorAll('.project:not(.filtered-out):not(.hidden)').length;
            const loadMoreButton = document.getElementById('loadMoreButton');

            if (visible >= projects.length) {
                loadMoreButton.classList.add('hidden');
            } else {
                loadMoreButton.classList.remove('hidden');
            }
        }

        document.querySelectorAll('.filters button').forEach(button => {
            button.addEventListener('click', (event) => {
                document.querySelectorAll('.filters button').forEach(btn => btn.classList.remove('active'));
                event.target.classList.add('active');
                filterProjects(event.target.getAttribute('data-category'));
            });
        });

        document.addEventListener('DOMContentLoaded', () => {
            initializeProjects();
            document.getElementById('loadMoreButton').addEventListener('click', loadMoreProjects);
        });

        window.addEventListener('resize', () => {
            visibleProjects = window.innerWidth < 1440 ? 6 : 9;
            initializeProjects();
        });
    </script>

  </body>
  <section class="form">
  <script
    type="module"
    src="https://unpkg.com/@splinetool/viewer@1.9.42/build/spline-viewer.js"
  ></script>
  <button id="openFormBtn">
    <div class="href">
      <script
        type="module"
        src="https://unpkg.com/@splinetool/viewer@1.9.58/build/spline-viewer.js"
      ></script>
      <spline-viewer
        hint
        loading-anim-type="spinner-small-dark"
        url="https://prod.spline.design/mlR0qejGlDrEsL8t/scene.splinecode"
      ></spline-viewer>
      <div class="sign">
        <p>записаться</p>
        <img src="../images/Frame 40.svg" alt="" />
      </div>
    </div>
  </button>
  <div id="popupForm" class="popup-form">
    <div class="popup-content">
      <span id="closeFormBtn" class="close-btn">&times;</span>
      <h2>Записаться на консультацию</h2>
      <form id="contactForm" action="send_mail.php" method="POST">
        <!-- <label for="name">Имя:</label> -->
        <input
          type="text"
          id="name"
          name="name"
          placeholder="имя"
          required
        /><br /><br />

        <!-- <label for="email">Email:</label> -->
        <input
          type="email"
          id="email"
          name="email"
          placeholder="email"
          required
        /><br /><br />

        <!-- <label for="phone">Телефон:</label> -->
        <input
          type="tel"
          id="phone"
          name="phone"
          placeholder="+7"
          required
        /><br /><br />

        <!-- <label for="message">Описание задачи:</label> -->
        <textarea
          id="message"
          name="message"
          placeholder="Опишите вашу задачу"
          rows="1"
          required
        ></textarea
        ><br /><br />

        <button type="submit">Отправить</button>
      </form>
    </div>
  </div>
</section>

<script>
  const openFormBtn = document.getElementById("openFormBtn");
  const popupForm = document.getElementById("popupForm");
  const closeFormBtn = document.getElementById("closeFormBtn");

  // Открыть форму при нажатии на кнопку
  openFormBtn.addEventListener("click", function () {
    popupForm.style.display = "block";
  });

  // Закрытие pop-up формы
  closeFormBtn.addEventListener("click", function () {
    popupForm.style.display = "none";
  });

  // Закрытие при клике вне формы
  window.addEventListener("click", function (event) {
    if (event.target === popupForm) {
      popupForm.style.display = "none";
    }
  });

  // Предотвращение стандартного действия формы
  contactForm.addEventListener("submit", function (event) {
    event.preventDefault(); // Останавливаем стандартную отправку
    alert("Форма отправлена успешно!");
    popupForm.style.display = "none"; // Закрываем форму
  });
</script>

<section class="camera" data-proportion-h="1">
  <picture>
    <img id="png_1920" src="../images/1920.png" alt="" />
  </picture>
  <script src="../camera.js"></script>
  <div class="blik">
    <img src="../images/blik.svg" alt="" />
  </div>
  <div class="image-slider">
    <button id="prevBtn" class="arrow"></button>
    <div class="points">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
    <button id="nextBtn" class="arrow"></button>
  </div>
  <div class="images">
    <img id="sliderImage" src="../images/Ellipse 6.svg" alt="Slide 1" />
    <!-- <svg width="200" height="200" viewBox="0 0 200 200">
      <circle
        id="timeline"
        cx="6.55"
        cy="197"
        r="96"
        stroke="#930909"
        stroke-width="2"
        fill="none"
      />
    </svg> -->
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // const images = [
    //   "../images/IMG_4653.webp",
    //   "../images/1I8A9580.webp",
    //   "../images/7L8A4657.webp",
    //   "../images/7L8A4661.webp",
    //   "../images/IMG_4447.webp",
    //   "../images/IMG_4656.webp",
    //   "../images/image7.webp",
    // ];

    const pointsContainer = document.querySelector(".points");

    function createDots() {
      pointsContainer.innerHTML = ""; // Очищаем старые точки
      images.forEach((_, index) => {
        const dot = document.createElement("div");
        dot.classList.add("dot");
        if (index === 0) dot.classList.add("active"); // Делаем первую точку активной
        pointsContainer.appendChild(dot);
      });
    }

    createDots();

    let nowPhotoIndex = 0;
    const sliderImage = document.getElementById("sliderImage");
    const dots = document.querySelectorAll(".dot");

    const preloadedImages = images.map((src) => {
      const img = new Image();
      img.src = src;
      return img;
    });

    function updateSlider() {
      sliderImage.src = images[nowPhotoIndex];
    }

    function updateActiveDot() {
      dots.forEach((dot, photo_index) => {
        dot.classList.toggle(
          "active",
          (photo_index - 1) % images.length === nowPhotoIndex
        );
      });
    }

    function preloadNextImage() {
      const nextIndex = (nowPhotoIndex + 1) % images.length;
      preloadedImages[nextIndex].src = images[nextIndex]; // Предзагрузка следующего изображения
    }

    function nextSlide() {
      nowPhotoIndex = (nowPhotoIndex + 1) % images.length;
      updateSlider();
      updateActiveDot();
      preloadNextImage();
    }

    function prevSlide() {
      nowPhotoIndex = (nowPhotoIndex - 1 + images.length) % images.length;
      updateSlider();
      updateActiveDot();
      preloadNextImage();
    }

    document.getElementById("prevBtn").addEventListener("click", prevSlide);
    document.getElementById("nextBtn").addEventListener("click", nextSlide);

    updateSlider();
    updateActiveDot();
    preloadNextImage();
  });
</script>

<footer id="footer">
  <div class="line"></div>
  <a class="icon" href="index.html">
    <img src="../images/logo.svg" alt="" />
  </a>
  <nav>
    <ul class="information">
      <li>plus7production@gmail.com</li>
      <li>+7 916 463 12 32</li>
      <li>
        Самокатная ул., 4, стр. 1, Москва, Креативный кластер Кристалл, этаж 1
      </li>
    </ul>
    <ul class="menu">
      <li><a href="about_us.html" class="left">О нас</a></li>
      <li><a href="index.html#services" class="right">Услуги</a></li>
      <!-- <li><a href="projects.html" class="right">Проекты</a></li> -->
      <!-- <li><a href="#footer" class="right">Контакты</a></li> -->
    </ul>
    <ul class="media">
      <li><a href="https://vk.com/plus7pr?from=groups">VK</a></li>
      <li><a href="https://t.me/plus7production">Teleqram</a></li>
      <li>
        <a href="https://youtube.com/@plus_7productions837?si=MKJZR1agsTVpcOOF"
          >YouTube</a
        >
      </li>
    </ul>
  </nav>
  <p>© Все права защищены, 2024</p>
</footer>

</html>
