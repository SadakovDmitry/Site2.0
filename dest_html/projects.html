<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="../css/fonts.css" />
<link rel="stylesheet" href="../css/footer.css" />
<title>+7 GROUP</title>

    <link rel="stylesheet" href="../css/menu.css" />
    <link rel="stylesheet" href="../css/projects.css" />
    <link rel="stylesheet" href="../css/fonts.css" />
  </head>
  <body>
    <section class="logo-section">
  <a class="icon1" href="index.html">
    <img src="../images/logo.png" alt="Logo" />
  </a>

  <nav id="menu">
    <ul>
      <li><a href="about_us.html">О нас</a></li>
      <li><a href="index.html#services">Услуги</a></li>
      <!-- <li><a href="projects.html">Проекты</a></li> -->
      <li><a href="#footer">Контакты</a></li>
      <li><a href="command.html">Команда</a></li>
    </ul>
    <svg
      class="menu_cross"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      xmlns="http://www.w3.org/2000/svg"
    >
      <line x1="5" y1="5" x2="20" y2="20" stroke="white" stroke-width="1" />
      <line x1="5" y1="20" x2="20" y2="5" stroke="white" stroke-width="1" />
    </svg>
    <div class="title">
      <span>Меню</span>
      <svg
        class="menu_dot"
        width="4"
        height="4"
        xmlns="http://www.w3.org/2000/svg"
      >
        <circle cx="2" cy="2" r="2" fill="white" />
      </svg>
    </div>
  </nav>
</section>

<script>
  let menuElem = document.getElementById("menu");
  let titleElem = menuElem.querySelector(".title");
  let circleElem = menuElem.querySelector(".menu_cross");

  titleElem.onclick = function () {
    menuElem.classList.toggle("open");
  };

  circleElem.onclick = function () {
    menuElem.classList.remove("open");
  };
</script>

    <main>
      <div class="image">
        <img src="../images/projects.png" alt="Example Image" />
      </div>
      <div class="text">
        <p>проекты</p>
      </div>
    </main>
    <section class="second">
      <div class="text">
        <p class="left">250+ ПРОЕКТОВ</p>
        <p class="right">100+ клиентов</p>
        <!-- <div class="right">
          <p class="up">100+ клиентов</p>
          <p class="down"></p>
        </div> -->
      </div>
    </section>
    <section class="projects-menu">
      <div class="filters">
        <button onclick="filterProjects('all')">ВСЕ</button>
        <button onclick="filterProjects('smm')">SMM</button>
        <button onclick="filterProjects('web')">WEB</button>
        <button onclick="filterProjects('pr')">PR</button>
        <button onclick="filterProjects('prod')">PRODUCTION</button>
      </div>
      <div class="projects" id="projectsContainer">
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="smm"
        >
          <img src="../projects/АЭИ.png" alt="Проект smm" />
          <div class="info">
            <span class="year">2023</span>
            <span class="category">SMM</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_2"
          class="project"
          data-category="web"
        >
          <img src="../projects/Дом Лазовского.png" alt="Проект web" />
          <div class="info">
            <span class="year">2022</span>
            <span class="category">WEB</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_3"
          class="project"
          data-category="pr"
        >
          <img src="../projects/Кристина Танцюра.png" alt="Проект pr" />
          <div class="info">
            <span class="year" style="color: black">2021</span>
            <span class="category" style="color: black">PR</span>
            <span class="title" style="color: black">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="prod"
        >
          <img src="../projects/СБЕР маркетинг.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PROD</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="prod"
        >
          <img src="../projects/ТЭК-Торг.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PROD</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="prod"
        >
          <img src="../projects/BEL development.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PROD</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="prod"
        >
          <img src="../projects/EcoLife.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PROD</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="prod"
        >
          <img src="../projects/Halle House.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PROD</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="web"
        >
          <img src="../projects/HuchEnTec.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">WEB</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="web"
        >
          <img src="../projects/MRC-club.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">WEB</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="smm"
        >
          <img src="../projects/Ntech.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">SMM</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="pr"
        >
          <img src="../projects/SharesPro.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PR</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
        <a
          href="one_project.html?section=project_1"
          class="project"
          data-category="pr"
        >
          <img src="../projects/Tamashi.png" alt="Проект production" />
          <div class="info">
            <span class="year">2020</span>
            <span class="category">PR</span>
            <span class="title">Название проекта</span>
          </div>
          <div class="vertical"></div>
          <div class="horizontal"></div>
        </a>
      </div>
      <button class="loadMore" id="loadMoreButton" onclick="loadMoreProjects()">
        <div style="display: flex; flex-direction: column; align-items: center">
          <div class="plus">
            <div
              style="
                position: absolute;
                top: 50%;
                left: 0;
                right: 0;
                height: 2px;
                background-color: rgba(255, 255, 255, 0.3);
                transform: translateY(-50%);
              "
            ></div>
            <div
              style="
                position: absolute;
                left: 50%;
                top: 0;
                bottom: 0;
                width: 2px;
                background-color: rgba(255, 255, 255, 0.3);
                transform: translateX(-50%);
              "
            ></div>
          </div>
          <span>Больше проектов</span>
        </div>
      </button>
    </section>

    <script>
      let visibleProjects = window.innerWidth <= 1440 ? 6 : 9; // Количество видимых проектов за раз, меняется в зависимости от ширины экрана

      function initializeProjects() {
        const projects = document.querySelectorAll(".project");
        let visibleCount = 0;

        projects.forEach((project) => {
          if (project.classList.contains("filtered-out")) {
            project.classList.add("hidden");
          } else if (visibleCount < visibleProjects) {
            project.classList.remove("hidden");
            visibleCount++;
          } else {
            project.classList.add("hidden");
          }
        });
        updateLoadMoreButton();
      }

      function loadMoreProjects() {
        const projects = document.querySelectorAll(
          ".project:not(.filtered-out)"
        );
        let currentlyVisible = document.querySelectorAll(
          ".project:not(.filtered-out):not(.hidden)"
        ).length;

        let count = 0;
        const increment = window.innerWidth <= 1440 ? 6 : 9;

        projects.forEach((project) => {
          if (
            count < increment &&
            currentlyVisible < visibleProjects + increment
          ) {
            if (project.classList.contains("hidden")) {
              project.classList.remove("hidden");
              count++;
            }
            currentlyVisible++;
          }
        });

        visibleProjects += increment;
        updateLoadMoreButton();
      }

      function filterProjects(category) {
        if (category) {
          const projects = document.querySelectorAll(".project");

          projects.forEach((project) => {
            if (category === "all" || project.dataset.category === category) {
              project.classList.remove("filtered-out");
            } else {
              project.classList.add("filtered-out");
              project.classList.add("hidden"); // Скрываем проекты, которые не соответствуют фильтру
            }
          });

          visibleProjects = window.innerWidth <= 1440 ? 6 : 9; // Сбрасываем лимит видимых проектов при смене фильтра
          initializeProjects();
        }
      }

      function updateLoadMoreButton() {
        const projects = document.querySelectorAll(
          ".project:not(.filtered-out)"
        );
        const visible = document.querySelectorAll(
          ".project:not(.filtered-out):not(.hidden)"
        ).length;
        const loadMoreButton = document.getElementById("loadMoreButton");

        if (visible >= projects.length) {
          loadMoreButton.classList.add("hidden");
        } else {
          loadMoreButton.classList.remove("hidden");
        }
      }

      document.querySelectorAll(".filters button").forEach((button) => {
        button.addEventListener("click", (event) => {
          document
            .querySelectorAll(".filters button")
            .forEach((btn) => btn.classList.remove("active"));
          event.target.classList.add("active");
          filterProjects(event.target.getAttribute("data-category"));
        });
      });

      document.addEventListener("DOMContentLoaded", () => {
        initializeProjects();
        document
          .getElementById("loadMoreButton")
          .addEventListener("click", loadMoreProjects);
      });

      window.addEventListener("resize", () => {
        visibleProjects = window.innerWidth < 1440 ? 6 : 9;
        initializeProjects();
      });
    </script>
  </body>
  <footer id="footer">
    <div class="line"></div>
    <a class="icon" href="index.html">
      <img src="../images/logo.svg" alt="" />
    </a>
    <nav>
      <ul class="information">
        <li>help@plus7group.pro</li>
        <li>+7 (800) 775-70-47</li>
        <li>
          Самокатная ул., 4, стр. 1, Москва, Креативный кластер Кристалл, этаж 1
        </li>
      </ul>
      <ul class="menu">
        <li><a href="about_us.html" class="left">О нас</a></li>
        <li><a href="index.html#services" class="right">Услуги</a></li>
        <!-- <li><a href="projects.html" class="right">Проекты</a></li> -->
        <!-- <li><a href="#footer" class="right">Контакты</a></li> -->
      </ul>
      <ul class="media">
        <li><a href="https://vk.com/plus7pr?from=groups">VK</a></li>
        <li><a href="https://t.me/plus7production">Teleqram</a></li>
      </ul>
    </nav>
    <p>© Все права защищены, 2024</p>
  </footer>
</html>
